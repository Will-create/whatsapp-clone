@{layout('')}
@{title(config.name)}

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=11" />
	<meta name="format-detection" content="telephone=no" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="robots" content="all,follow" />
	@{import('meta', 'head','default.js','style.css','sidebar.css','chat.css','spa.min@18.js','spa.min@18.css','ui.css','ui.js')}
	<script src="/js/livereload.js" data-url="ws://127.0.0.1:35729" ></script>
</head>
<body>
	<div data---="websocket__message__url:/;encoder:false"></div>
	<div data---="loading" class="hidden"></div>
<div class="app">
	<div class="app_body">
		<div class="sidebar">
			<div class="sidebar_header">
				<div class="sidebar_headerLeft">
					<img src="/img/bugatti.jpg" alt="">
				</div>
				<div class="sidebar_headerRight">
				 <i class="fa fa-circle-notch" ></i>
				 <i class="fa fa-comment-dots" ></i>
				 <i class="fa fa-ellipsis-v" ></i>
				</div>
			</div>


			<div class="sidebar_search">
				<div class="sidebar_searchContainer">
					<i class="fa fa-search" ></i>
					<input placeholder="Search or Start new Chat" type="text">
				</div>
			</div>
				<div data---="chat__common.chats" ></div>
		</div>
		<div class="chat">

			<div class="chat_header">
				<div class="chat_headerAvatar">
					<img src="/img/bugatti.jpg" alt="">
				</div>
				<div class="chat_headerInfo">
					<h3>Agape Raston</h3>
					<p>A good girl from Green City</p>
				</div>
				<div class="chat_headerRight">
				<i class="fa fa-search"></i>
				 <i class="fa fa-link"></i>
				 <i class="fa fa-ellipsis-v"></i>
				</div>
			</div>
			<div data---="chatbody__common.messages" class="chat_body"></div>
		</div>
	</div>	
</div>
	<script>
		var common = {};
		common.messages = [
			{ "id": 1 , "author": "Agape Raston", "body":"Hi Louis","timestamp":"24 Nov 2021","incoming" : false},
			{ "id": 2 , "author": "Agape Raston", "body":"How are you?","timestamp":"24 Nov 2021","incoming" : false},
			{ "id": 3 , "author": "Louis Bertson", "body":"I am Good, how about you?","timestamp":"24 Nov 2021","incoming" : true},
			{ "id": 4 , "author": "Agape Raston", "body":"I'm good my friend","timestamp":"24 Nov 2021","incoming" : false},
			{ "id": 5 , "author": "Louis Bertson", "body":"Okey fine. tell me","timestamp":"24 Nov 2021","incoming" : true},
			{ "id": 6 , "author": "Agape Raston", "body":"i miss you. where are you?","timestamp":"24 Nov 2021","incoming" : false},
			{ "id": 7 , "author": "Louis Bertson", "body":'Ohh i miss you too.',"timestamp":"24 Nov 2021","incoming" : true},
			{ "id": 8 , "author": "Louis Bertson", "body":"I'm at home, i will come don't worry","timestamp":"24 Nov 2021","incoming" : true},
			{ "id": 9 , "author": "Agape Raston", "body":"Okay my friend","timestamp":"24 Nov 2021","incoming" : false},
			{ "id": 10 , "author": "Louis Bertson", "body":"okay fine","timestamp":"24 Nov 2021","incoming" : true},
			{ "id": 11 , "author": "Louis Bertson", "body":"have a nice day","timestamp":"24 Nov 2021","incoming" : true},
			{ "id": 12 , "author": "Agape Raston", "body":"thanks alot, same to you","timestamp":"24 Nov 2021","incoming" : false},
			{ "id": 13 , "author": "Louis Bertson", "body":"thanks","timestamp":"24 Nov 2021","incoming" : true},
		];
		common.chats = [
			{ 'id': 1 , 'img': '/img/bugatti.jpg', 'message': 'Worry out my friend', 'name': "Agape Raston"},
			{ 'id': 2 , 'img': '/img/bugatti.jpg', 'message': 'Worry out my friend', 'name': "Agape Raston"},
			{ 'id': 3 , 'img': '/img/bugatti.jpg', 'message': 'Worry out my friend', 'name': "Agape Raston"},
			{ 'id': 4 , 'img': '/img/bugatti.jpg', 'message': 'Worry out my friend', 'name': "Agape Raston"},
			{ 'id': 5 , 'img': '/img/bugatti.jpg', 'message': 'Worry out my friend', 'name': "Agape Raston"},
		];
		ON('message', function(msg) {
			name.innerHTML = msg.firstname + ' ' + msg.lastname
			// Send message to the server
			// SETTER('websocket/send', { your: 'message' });
			AJAX('GET http://louisbertson.dev',function(res){
				console.log(res);
			})
		});
	</script>
	
	<script defer>
		function initUsers(){
			SETTER('loading','show');
			SETTER('chat/append',1, '/img/bugatti.jpg', 'This is a new notification component.','Agape Raston');
			SETTER('chat/append',2, '/img/bugatti.jpg', 'This is a new notification component.','Agape Raston');
			SETTER('chat/append',3, '/img/bugatti.jpg', 'This is a new notification component.','Agape Raston');
			SETTER('chat/append',4, '/img/bugatti.jpg', 'This is a new notification component.','Agape Raston');
			SETTER('chat/append',5, '/img/bugatti.jpg', 'This is a new notification component.','Agape Raston');
			SETTER('chat/append',6, '/img/bugatti.jpg', 'This is a new notification component.','Agape Raston');
			SETTER('chat/append',7, '/img/bugatti.jpg', 'This is a new notification component.','Agape Raston');
			SETTER('chat/append',8, '/img/bugatti.jpg', 'This is a new notification component.','Agape Raston');
			
			SETTER('chatbody/append',1, 'Agape Raston','I miss you my love','25 Nov 2021',false);
			SETTER('chatbody/append',2, 'Louis Bertson','i miss you tooo','25 Nov 2021',true);
			SETTER('chatbody/append',3, 'Agape Raston','Where are you?','25 Nov 2021',false);
			SETTER('chatbody/append',4, 'Louis Bertson','I\'m at home, i will come. worry out','25 Nov 2021',true);
			SETTER('chatbody/append',5, 'Agape Raston','Okay my friend','25 Nov 2021',false);
			SETTER('chatbody/append',6, 'Louis Bertson','Okay','25 Nov 2021',true);
			SETTER('chatbody/append',7, 'Louis Bertson','Have a nice day','25 Nov 2021',true);
			SETTER('loading','hide',1000);
   }	
   setTimeout(initUsers,2000)
	</script>
</body>
</html>