<div style="width: 100%;" data-scope="messages">
        <div style="width: 100%;" class="chat_body" data-bind="?.messages__template">

                <script type="text/html" >
                    {{ foreach message in value }}
                    <p data-id="{{ message.id}}"  class="chat_message {{if message.incoming == true }} chat_receiver {{ fi}} ">
                        <span class="chat_messageAuthor">{{message.author}}</span>
                        {{message.body | raw}}
                        <span class="chat_messageBodyMetaTimeStamp">{{message.timestamp}}</span>
                        </p>
                    {{ end }}
                </script>
    </div>
    <div class="chat_footer">
        <i class="ion ion-happy emoji"></i>
        <i class="ion ion-paperclip exec"></i>
        <form action="/api/v1/messages/new" method="POST">
            <input type="hidden" name="name"value="Louis Bertson">
            <input type="hidden" name="receiver" value="0">
            <input id="msg" type="text" name="message" placeholder="Type message here">
            <i class="ion ion-ios-paperplane-outline exec"></i>

            
        </form>
        <i class="fa fa-microphone"></i>
    </div>
</div>
<style>
    
  
    
    </style>
<script>
    PLUGIN('messages', function(exports) {
        // You can define your custom functions or properties
   
        
        exports.reload = function() {
            console.log(' message relaod');
            AJAX('GET /api/messages/',function(res){
                console.log(res);
                SET('?.messages',res);
            });
        };
        
        exports.refresh = function(){
            console.log('Refreshing...')
        };
    
    });

</script>