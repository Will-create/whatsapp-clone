<style>.ui-clickbox{position:relative;width:100%;display:block;min-height:32px}.ui-clickbox>a{display:none}.ui-clickbox div{height:32px;background-color:#FFF;font-size:14px;border-radius:var(--radius);border:1px solid #D0D0D0;padding:5px 8px 0;cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,0.03)}.ui-clickbox div .fa{float:right;margin:3px 3px 0 0}.ui-clickbox div span{display:block;margin-right:15px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;font-weight:bold;color:#000}.ui-clickbox nav a{display:block;border-top:1px solid #E0E0E0;font-size:12px;padding:3px 8px}.ui-clickbox nav a:first-child{border-top:0}.ui-clickbox nav{position:absolute;z-index:2;background-color:#FFF;box-shadow:0 5px 10px rgba(0,0,0,0.05);width:100%;border-radius:0 0 4px 4px;border:1px solid #E0E0E0;display:none;margin-top:-3px;max-height:200px;overflow:auto;overflow-scrolling:touch}.ui-clickbox-visible nav{display:block}</style>
<script>COMPONENT('clickbox@1',function(self,config){self.readonly();self.blind();self.nocompile&&self.nocompile();self.init=function(){$(document).on('click',function(){$('.ui-clickbox-visible').rclass('ui-clickbox-visible')})};self.make=function(){self.aclass('ui-clickbox');var el=self.element;el.wrapInner('<nav></nav>');el.prepend('<div><i class="fa fa-caret-down"></i><span></span></div>');self.event('click',function(){var cls='ui-clickbox-visible';if(self.hclass(cls)){self.rclass(cls);return}setTimeout(function(){self.aclass(cls)},50)});self.refresh()};self.refresh=function(){var query=MAIN.parseQuery();var value=query[config.param]||'',all=self.find('a');if(!value)all=all.eq(0);all.each(function(){if(this.href.indexOf(config.param+'='+value)!==-1){var el=$(this).aclass('selected');self.find('span').html(el.text())}})}});</script>