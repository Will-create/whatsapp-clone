<style>.ui-floatingsearch{position:absolute;height:46px;left:0;right:0;background-color:#FFF;border:1px solid #E0E0E0;margin-top:-1px;z-index:2}.ui-floatingsearch .input{padding:0;display:block;margin:0 50px 0 35px}.ui-floatingsearch .input input{width:100%;line-height:44px;border:0;padding:0;margin:0;outline:0;background-color:transparent}.ui-floatingsearch .icon{float:left;width:35px;line-height:44px;text-align:center}.ui-floatingsearch i{-webkit-transform:none}.ui-floatingsearch-filled .icon{color:red;cursor:pointer}.ui-floatingsearch .close{float:right;width:46px;color:red;text-align:center;font-size:16px;line-height:44px;border-left:1px solid #E0E0E0;cursor:pointer}.ui-floatingsearch .close:hover{background-color:#F0F0F0}.ui-dark .ui-floatingsearch{background-color:#303030;border-color:#404040}.ui-dark .ui-floatingsearch .close{border-left-color:#404040}.ui-dark .ui-floatingsearch .close:hover{background-color:#353535}</style>
<script>COMPONENT('floatingsearch@1','height:46',function(self,config,cls){var is=false,input;self.make=function(){self.aclass(cls+' hidden');self.append('<div class="close"><i class="fa fa-times"></i></div><div class="icon"><i class="fa fa-search"></i></div><form action="#" onsubmit="return false" class="input"><input placeholder="{1}" data-jc-bind type="text" name="input{2}" autocomplete="new-password" /></form>'.format(cls,config.placeholder,Date.now()));if(config.height!==46){self.find('.close,.icon,input').css('line-height',(config.height-2)+'px');self.find('.close').css('width',config.height+'px');self.find('.input').css('margin-right',(config.height+5)+'px');self.css('height',config.height+'px')}input=self.find('input').on('keydown',function(e){if(e.which===27)self.hide()}).on('input',self.toggleicon)[0];self.event('click','.close',self.hide);self.event('click','.icon',function(){if(is){input.value&&self.set('',2);self.toggleicon();input.focus()}})};self.toggleicon=function(){var tmp=!!input.value;if(is!==tmp){is=tmp;self.find('.icon').find('i').tclass('fa-search',!is).tclass('fa-times',is);self.tclass(cls+'-filled',is)}};self.hide=function(){input.value&&self.set('',2);self.aclass('hidden')};self.show=function(){self.toggleicon();self.rclass('hidden');self.find('input').focus()}});</script>