<style>
    .ui-chat-container { width: 280px; padding: 0 20px 0 0; }
    .ui-chat { background-color: #FFF; box-shadow: 0 3px 20px rgba(0,0,0,0.2); border-radius: 5px; border: 1px solid #D0D0D0; border-left-width: 5px; border-left-color: #000; font-size: 12px; padding: 15px 15px 15px 10px; margin-top: 20px; position: relative; display: block; transition: 0.5s all; }
    .ui-chat-image{ width: 35px;height: 35px;border: 0.5px solid grey; border-radius: 100%;overflow: hidden;}
    .ui-chat-image > img { width: 100%; height: 100%; cursor: pointer; }
    .ui-chat-image > img:hover { color: #DB2724; }
    .ui-chat-message { margin: 1px 0 0 10px; color: gray; max-height: 150px; line-height: 16px; }
    .ui-chat-name { font-size: 11px; color: #A0A0A0; margin-bottom: 4px; }
    
    @media(max-width: 767px) {
      .ui-chat-container { width: auto; left: 0; padding-left: 20px; }
    }
</style>
<script >
    COMPONENT('chat',  function(self) {

    
        self.singleton();
        self.readonly();
        self.nocompile && self.nocompile();
        self.template = Tangular.compile('<div class="ui-chat" data-id="{{ id }}">   <div class="ui-chat-message"><div class="ui-chat-image"><img src="{{img}}"/></div><div class="ui-chat-name">{{ name }}</div>{{ message | raw }}</div></div>');
        self.items = {};
    
        self.make = function() {
            self.aclass('ui-chat-container');
            // self.event('click', '.fa-times-circle', function() {
            // 	var el = $(this).closest('.ui-notification');
            // 	self.close(+el.attr('data-id'));
            // 	clearTimeout(autoclosing);
            // 	autoclosing = null;
            // 	self.autoclose();
            // });
    
            // self.event('click', 'a,button', function(e) {
            // 	e.stopPropagation();
            // });
    
            self.event('click', '.ui-chat', function() {
                var el = $(this);
                var id = +el.attr('data-id');
                // var obj = self.items[id];
                // if (!obj || !obj.callback)
                // 	return;
                // obj.callback();
                // self.open(id);
            });

        };
        self.append = function(id, img, message, name) {
            var obj = { id: id , img: img, message: message, name: name};
            self.items[obj.id] = obj;
            self.element.append(self.template(obj));
        };
    });
</script>