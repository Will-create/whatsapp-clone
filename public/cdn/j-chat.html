<style>
    .ui-chat-container {  width: 100%; height: 100%; overflow: scroll; display: flex; flex-direction: column;background-color: #fff;}
    .ui-chat{display: flex;flex:1; width: 100%; background-color: #fff;}
    .ui-chat :hover { background-color: lightgray;}
    .ui-chat-body { width: 100%; display: flex;align-items: center; justify-content: space-between;font-size: 12px; padding: 6px 6px 6px 5px; cursor: pointer; }
    .ui-chat-image{ width: 50px;height: 50px;border: 0px solid grey; border-radius: 100%;overflow: hidden;}
    .ui-chat-image > img {  width: 100%; height: 100%; cursor: pointer; }
    .ui-chat-bodyLeft  { flex:0.2;  align-items: center;justify-content: center;}
    .ui-chat-bodyRight  { flex:0.8; flex-direction: column; }
    .ui-chat-name {  font-size: 12px; font-weight: bolder; color: #1f1d1d; margin-bottom: 4px; }
    .ui-chat-message { margin: 1px 0 0 10px; color: gray;}
   
</style>
<script >
    COMPONENT('chat',  function(self) {

    
        self.singleton();
        self.readonly();
        self.nocompile && self.nocompile();
        self.template = Tangular.compile(`
        <div class="ui-chat" data-id="{{ id }}">
            <div class="ui-chat-body">
                 <div class="ui-chat-bodyLeft">
                    <div class="ui-chat-image">
                     <img src="{{img}}"/>
                 </div>
                 </div>
                 <div class="ui-chat-bodyRight">
                     <div class="ui-chat-name">{{ name }}</div>
                     <div class="ui-chat-message">{{ message | raw }}</div>
                 </div>
     
             </div>
         </div>

              `);
        self.items = {};
    
        self.make = function() {
            self.aclass('ui-chat-container');
            // self.event('click', '.fa-times-circle', function() {
            // 	var el = $(this).closest('.ui-notification');
            // 	self.close(+el.attr('data-id'));
            // 	clearTimeout(autoclosing);
            // 	autoclosing = null;
            // 	self.autoclose();
            // });
    
            // self.event('click', 'a,button', function(e) {
            // 	e.stopPropagation();
            // });
            self.event('click', '.ui-chat', function() {
                var el = $(this);
                var id = +el.attr('data-id');
                // var obj = self.items[id];
                // if (!obj || !obj.callback)
                // 	return;
                // obj.callback();
                // self.open(id);
            });
        };
        self.setter = function(value){
            value.forEach(function(el){
                self.element.append(self.template(el));
            })
        }


        self.append = function(id, img, message, name) {
            var obj = { id: id , img: img, message: message, name: name};
            self.items[obj.id] = obj;
            self.element.append(self.template(obj));
        };
    });
</script>