<style>.ui-textarea{border:1px solid #E0E0E0;padding:0;border-radius:var(--radius);position:relative;display:block;width:100%;background-color:#FFF;overflow:hidden}.ui-textarea-placeholder{position:absolute;top:3px;left:5px;cursor:text;color:#6f6f6f;user-select:none;-webkit-user-select:none;-moz-user-select:none;font-size:13px}.ui-textarea textarea{border:0;width:100%;height:100%;outline:0;font:normal 13px Arial;color:#000;resize:none;min-height:50px;background-color:#FFF;padding:4px 5px}.ui-textarea-label{margin-bottom:3px;font-size:12px;text-align:left}.ui-textarea-label .fa{margin-right:5px}.ui-textarea-required .ui-textarea-label{font-weight:bold}.ui-textarea-required .ui-textarea-label:before{color:red;content:'***';margin-right:5px}.ui-textarea-required .ui-textarea{border-color:#D0D0D0}.ui-textarea-invalid .ui-textarea{border-color:red !important}.ui-textarea-monospace textarea{font-family:monospace;font-size:14px}.ui-textarea-helper{margin-top:8px;font-size:11px;color:red;text-align:left;display:none}.ui-textarea-helper-show{display:block}.ui-disabled.ui-textarea{background-color:#F0F0F0;cursor:not-allowed}.ui-disabled .ui-textarea-placeholder{cursor:not-allowed}.ui-disabled.ui-textarea textarea{background-color:#F0F0F0;color:gray}.ui-disabled .ui-textarea{background-color:#F0F0F0}.ui-disabled .ui-textarea textarea{background-color:#F0F0F0;cursor:not-allowed;color:gray}.ui-dark .ui-textarea{border-color:#353535;background-color:#202020}.ui-dark .ui-textarea textarea{color:#FFF;background-color:#202020}.ui-dark .ui-textarea-required .ui-textarea-label:before{color:red}.ui-dark .ui-textarea-required .ui-textarea{border-color:#454545}.ui-dark .ui-textarea-invalid .ui-textarea{border-color:red !important}.ui-dark .ui-disabled.ui-textarea{background-color:#282828}.ui-dark .ui-disabled.ui-textarea textarea{background-color:#282828;color:#707070}.ui-dark .ui-disabled .ui-textarea{background-color:#282828}.ui-dark .ui-disabled .ui-textarea textarea{background-color:#282828;color:#707070}</style>
<script>COMPONENT('textarea@1','scrollbar:true',function(self,config,cls){var cls2='.'+cls,input,placeholder,content=null;self.nocompile&&self.nocompile();self.validate=function(value){if(config.disabled||!config.required||config.readonly)return true;if(value==null)value='';else value=value.toString();return value.length>0};self.configure=function(key,value,init){if(init)return;var redraw=false;switch(key){case'readonly':self.find('textarea').prop('readonly',value);break;case'disabled':self.tclass('ui-disabled',value);self.find('textarea').prop('disabled',value);self.reset();break;case'required':self.noValid(!value);!value&&self.state(1,1);self.tclass(cls+'-required',value);break;case'placeholder':placeholder.html(value||'');break;case'maxlength':input.prop('maxlength',value||1000);break;case'label':redraw=true;break;case'autofocus':input.focus();break;case'monospace':self.tclass(cls+'-monospace',value);break;case'icon':redraw=true;break;case'format':self.format=value;self.refresh();break;case'height':self.find('textarea').css('height',(value>0?value+'px':value));break}redraw&&setTimeout2('redraw'+self.id,function(){self.redraw();self.refresh()},100)};self.redraw=function(){var attrs=[],builder=[],placeholderelement='';self.tclass('ui-disabled',!!config.disabled);self.tclass(cls+'-monospace',!!config.monospace);self.tclass(cls+'-required',!!config.required);config.placeholder&&(placeholderelement='<div class="{0}-placeholder">{1}</div>'.format(cls,config.placeholder));config.maxlength&&attrs.attr('maxlength',config.maxlength);config.error&&attrs.attr('error');attrs.attr('data-jc-bind','');config.height&&attrs.attr('style','height:{0}px'.format(config.height));config.autofocus==='true'&&attrs.attr('autofocus');config.disabled&&attrs.attr('disabled');config.readonly&&attrs.attr('readonly');builder.push('{1}<textarea {0}></textarea>'.format(attrs.join(' '),placeholderelement));var label=config.label||content;if(!label.length){config.error&&builder.push('<div class="{0}-helper"><i class="fa fa-warning" aria-hidden="true"></i> {1}</div>'.format(cls,config.error));self.aclass(cls+' '+cls+'-container');self.html(builder.join(''))}else{var html=builder.join('');builder=[];builder.push('<div class="'+cls+'-label">');config.icon&&builder.push('<i class="fa fa-{0}"></i>'.format(config.icon));builder.push(label);builder.push(':</div><div class="{0}">{1}</div>'.format(cls,html));config.error&&builder.push('<div class="{0}-helper"><i class="fa fa-warning" aria-hidden="true"></i> {1}</div>'.format(cls,config.error));self.html(builder.join(''));self.rclass(cls);self.aclass(cls+'-container')}input=self.find('textarea');placeholder=self.find(cls2+'-placeholder');if(!config.scrollbar){input.noscrollbar();input.css('padding-right',(SCROLLBARWIDTH()+5)+'px')}};self.make=function(){content=self.html();self.type=config.type;self.format=config.format;self.redraw();self.event('click',cls2+'-placeholder',function(){if(!config.disabled){placeholder.aclass('hidden');input.focus()}});self.event('focus','textarea',function(){placeholder.aclass('hidden')});self.event('blur','textarea',function(){if(!self.get()&&config.placeholder)placeholder.rclass('hidden')})};self.state=function(type){if(!type)return;var invalid=config.required?self.isInvalid():false;if(invalid===self.$oldstate)return;self.$oldstate=invalid;self.tclass(cls+'-invalid',invalid);config.error&&self.find(cls2+'-helper').tclass(cls+'-helper-show',invalid)};self.setter2=function(value){if(!config.placeholder)return;if(value)placeholder.aclass('hidden');else placeholder.rclass('hidden')}});</script>