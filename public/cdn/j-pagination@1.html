<style>.ui-pagination{height:60px;border-top:2px solid #F0F0F0;padding-top:20px;margin-top:20px}.ui-pagination nav{border:1px solid #E0E0E0;position:relative;display:inline-block;border-radius:var(--radius);user-select:none;-webkit-user-select:none;-moz-user-select:none}.ui-pagination span{font-size:11px;border-left:1px solid #E0E0E0;width:26px;padding:5px 0;position:relative;display:inline-block;text-align:center;color:gray;text-decoration:none;cursor:pointer;vertical-align:top}.ui-pagination span:first-child{border-left:0}.ui-pagination i{color:var(--color)}.ui-pagination .selected{background-color:#F0F0F0}.ui-pagination div{float:right;font-size:11px;color:#A0A0A0;padding-top:7px}.ui-dark .ui-pagination{border-top-color:#404040}.ui-dark .ui-pagination nav{border-color:#404040}.ui-dark .ui-pagination span{border-left-color:#404040;color:gray}.ui-dark .ui-pagination i{color:var(--color)}.ui-dark .ui-pagination .selected{background-color:#353535}.ui-dark .ui-pagination div{color:#A0A0A0}@media(max-width:767px){.ui-pagination{height:100px;text-align:center}.ui-pagination nav{display:inline-block}.ui-pagination div{float:none;margin-bottom:10px}}</style>
<script>COMPONENT('pagination@1','pages:# pages,# page,# pages,# pages;items:# items,# item,# items,# items',function(self,config,cls){var cachePages=0,cacheCount=0,nav,info;self.template=Tangular.compile('<span class="page{{ if selected}} selected{{ fi}}" data-page="{{ page}}">{{ page}}</span>');self.nocompile&&self.nocompile();self.readonly();self.make=function(){self.aclass(cls+' hidden');self.append('<div></div><nav></nav>');nav=self.find('nav');info=self.find('div');self.event('click','.page',function(e){e.preventDefault();e.stopPropagation();var el=$(this);self.find('.selected').rclass('selected');self.page&&self.page(+el.attrd('page'),el)})};self.configure=function(key,value,init){!init&&self.refresh()};self.page=function(page,el){config.exec&&self.SEEX(config.exec,page,el)};self.getPagination=function(page,pages,max,fn){var half=Math.ceil(max/2);var pageFrom=page-half,pageTo=page+half,plus=0;if(pageFrom<=0){plus=Math.abs(pageFrom);pageFrom=1;pageTo+=plus}if(pageTo>=pages){pageTo=pages;pageFrom=pages-max}if(pageFrom<=0)pageFrom=1;if(page<half+1){pageTo++;if(pageTo>pages)pageTo--}for(var i=pageFrom;i<pageTo+1;i++)fn(i)};self.getPages=function(length,max){var pages=(length-1)/max;if(pages%max!==0)pages=Math.floor(pages)+1;if(pages===0)pages=1;return pages};self.setter=function(value){self.tclass('hidden',value==null);if(!value)return;var is;if(config.nopages){is=value.pages<2;self.tclass('hidden',is);if(is)return}is=false;if(value.pages!==undefined){if(value.pages!==cachePages||value.count!==cacheCount){cachePages=value.pages;cacheCount=value.count;is=true}}var builder=[];if(cachePages>2){var prev=value.page-1;if(prev<=0)prev=cachePages;builder.push('<span class="page" data-page="{0}"><i class="fa fa-chevron-left"></i></span>'.format(prev))}var max=config.max||8;self.getPagination(value.page,cachePages,max,function(index){builder.push(self.template({page:index,selected:value.page===index}))});if(cachePages>2){var next=value.page+1;if(next>cachePages)next=1;builder.push('<span class="page" data-page="{0}"><i class="fa fa-chevron-right"></i></span>'.format(next))}nav.html(builder.join('')).tclass('hidden',builder.length<=0);if(is){var pluralize_pages=[cachePages],pluralize_items=[cacheCount];pluralize_pages.push.apply(pluralize_pages,(config.pages||'').split(',').trim());pluralize_items.push.apply(pluralize_items,(config.items||'').split(',').trim());info.empty().append(Tangular.helpers.pluralize.apply(value,pluralize_pages)+' / '+Tangular.helpers.pluralize.apply(value,pluralize_items));self.tclass('hidden',cachePages<1)}}});</script>