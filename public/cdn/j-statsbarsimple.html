<style>.ui-statsbarsimple{border-radius:100px;border:1px solid #E0E0E0;padding:2px;overflow:hidden}.ui-statsbarsimple-table{height:20px;display:table;width:100%;table-layout:fixed}.ui-statsbarsimple-table>div{display:table-cell;cursor:default;font-size:11px;line-height:20px;padding:0 8px;color:#FFF;overflow:hidden}.ui-statsbarsimple-table>div:first-child{border-radius:100px 0 0 100px}.ui-statsbarsimple-table>div:last-child{border-radius:0 100px 100px 0}.ui-statsbarsimple-table>div:hover{opacity:0.9}.ui-statsbarsimple-table span{display:block;max-width:100%;width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;transform:translate(0,50px);transition:transform 0.2s}.ui-statsbarsimple-table span i{margin-right:5px}.ui-statsbarsimple-show span{transform:translate(0,0)}.ui-dark .ui-statsbarsimple{border-color:#505050}.ui-large .ui-statsbarsimple-table{height:28px}.ui-large .ui-statsbarsimple-table>div{line-height:28px;font-size:13px}</style>
<script>COMPONENT('statsbarsimple','tooltip:1;animate:1;value:value;colors:#2e67c5,#83c83c,#cccb41,#b9261a,#b92ec5,#bd6b27,#808080',function(self,config,cls){var cls2='.'+cls,templatetooltip,container,items,sum,old;self.readonly();self.nocompile();self.make=function(){self.find('script').each(function(index){var ta=Tangular.compile(this.innerHTML);if(index)templatetooltip=ta;else self.template=ta});if(!templatetooltip)templatetooltip=self.template;self.aclass(cls);self.append('<div class="{0}-table"></div>'.format(cls));config.tooltip&&self.event('mouseenter touchstart',cls2+'-bar',function(){var opt={};opt.element=$(this);var index=+opt.element.attrd('index');var val=items[index];opt.html=templatetooltip(val);opt.align='bottom';opt.timeout=2000;SETTER('tooltip','show',opt)});container=self.find(cls2+'-table')};self.configure=function(key,value){if(key==='colors')config[key]=value.split(',')};self.setter=function(value){if(!value){container.empty();old=null;return}var tmp=STRINGIFY(value,true);if(old==tmp)return;old=tmp;sum=0;var builder=[];for(var i=0;i<value.length;i++){var item=value[i];sum+=item[config.value]}for(var i=0;i<value.length;i++){var item=value[i],p=!item[config.value]&&!sum?0:((item[config.value]/sum)*100).floor(1);item.percentage=p;builder.push(('<div style="width:'+(config.animate?'100%':'{4}')+';background-color:{3}" class="{0}-bar" data-index="{4}" data-percentage="{2}"><span>{1}</span></div>').format(cls,self.template(item).trim(),sum===0?(100/value.length).floor(2):p===0?5:p,item.color||config.colors[i],i))}items=value;container.html(builder.join(''));var bars=self.find(cls2+'-bar');if(config.animate){bars.each(function(index){var el=$(this);setTimeout(function(el){el.animate({width:+el.attrd('percentage')+'%'},200).aclass(cls+'-show')},index*100,el)})}else{bars.each(function(){var el=$(this);el.css({width:+el.attrd('percentage')+'%'},200)});bars.aclass(cls+'-show')}}});</script>