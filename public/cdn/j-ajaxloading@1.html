<style>.ui-ajaxloading{color:#A0A0A0;font-size:11px;margin:5px 0 10px;line-height:14px}.ui-ajaxloading i{margin-right:5px;color:var(--color)}</style>
<script>COMPONENT('ajaxloading@1','icon:true',function(self){var pattern,html;self.readonly();self.make=function(){self.aclass('ui-ajaxloading hidden');html=self.html()};self.configure=function(key,value){switch(key){case'url':pattern=new RegExp(value);break;case'label':html=value;self.html(value);break;case'icon':self.html((value?'<i class="fas fa-spinner fa-pulse"></i>':'')+html);break}};self.apply=function(type,url){if(pattern&&pattern.test(url)){if(type==='req')self.rclass('hidden');else self.aclass('hidden',300)}};self.init=function(){ON('request',function(req){SETTER('ajaxloading','apply','req',req.url)});ON('response',function(res){SETTER('ajaxloading','apply','res',res.url)})}});</script>