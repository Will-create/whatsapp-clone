<style>.ui-panel{background-color:#FFF;margin:0 0 0 auto;transform:scale(0.8);transition:all 0.2s;opacity:0;width:100%;border-radius:var(--radius);box-shadow:0 0 15px rgba(0,0,0,0.1)}.ui-panel-noscroll,.ui-panel-noscroll body{overflow:hidden}.ui-panel-container{width:100%;position:fixed;left:0;top:0;bottom:0;right:0;background-color:rgba(230,233,237,0.8);z-index:5;overflow:none;transform-style:preserve-3d;padding:20px}.ui-panel-inline{top:20px;bottom:20px;right:20px;left:auto;background:transparent;padding:0}.ui-panel-header{height:45px}.ui-panel-scroll{overflow-scrolling:touch;overflow-y:auto}.ui-panel-animate .ui-panel{transform:scale(1);opacity:1}.ui-panel-inline.ui-panel-animate{transition:box-shadow 0.5s;box-shadow:-10px 0 20px rgba(0,0,0,0.02)}.ui-panel-title{padding:0 3px 0 15px;font-size:14px;user-select:none;-webkit-user-select:none;-moz-user-select:none;color:#000;background-color:#FFF;border-bottom:1px solid #E0E0E0;position:absolute;left:0;right:0;top:0;height:45px;border-radius:var(--radius) var(--radius) 0 0}.ui-panel-title .ui-panel-button-menu{float:right;cursor:pointer;font-size:14px;background:none;border:0;outline:0;color:gray;text-align:center !important;padding:0;margin:7px 0 0;border:0;width:40px;height:30px;border-right:1px solid #E9E9E9}.ui-panel-title .ui-panel-button-menu i{transition:all 0.2s}.ui-panel-title .ui-panel-button-menu:hover i{color:#000;transform:rotate(-90deg)}.ui-panel-title .ui-panel-button-close{float:right;cursor:pointer;font-size:14px;transition:all 0.2s;background:none;border:0;outline:0;color:#777;text-align:center !important;padding:0;margin:7px 2px 0 0;width:34px;height:30px;border-radius:var(--radius)}.ui-panel-title .ui-panel-button-close:hover{color:red}.ui-panel-title>span{font-weight:bold;max-width:70%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;position:relative;display:inline-block;vertical-align:middle;line-height:45px}.ui-panel-title>i{margin-right:7px;line-height:45px;float:left}.ui-dark .ui-panel{background-color:#303030}.ui-dark .ui-panel-title{color:#FFF;background-color:#303030;border-bottom-color:#252525}.ui-dark .ui-panel-container{background-color:rgba(30,30,30,0.8)}.ui-dark .ui-panel-inline{background-color:transparent}.ui-dark .ui-panel-inline .ui-panel{border-left-color:#202020}.ui-dark .ui-panel-button-close{border-left-color:#101010}.ui-dark .ui-panel-title .ui-panel-button-menu:hover{color:#FFF}</style>
<script>COMPONENT('panel','width:350;icon:home;zindex:12;scrollbar:true;scrollbarY:true;margin:0;padding:20;closeicon:fa fa-times',function(self,config,cls){var cls2='.'+cls;if(!W.$$panel){W.$$panel_level=W.$$panel_level||1;W.$$panel=true;$(document).on('click touchend',cls2+'-button-close,'+cls2+'-container',function(e){var target=$(e.target);var curr=$(this);var main=target.hclass(cls+'-container');if(curr.hclass(cls+'-button-close')||main){var parent=target.closest(cls2+'-container');var com=parent.component();if(!main||com.config.bgclose){if(com.config.close)com.EXEC(com.config.close,com);else com.hide();e.preventDefault();e.stopPropagation()}}});var resize=function(){SETTER('panel/resize')};ON('resize + resize2',function(){setTimeout2('panelresize',resize,100)})}self.icon=function(value,path,el){el.rclass().aclass(cls+'-icon '+self.faicon(value.icon))};self.readonly();self.esc=function(bind){if(bind){if(!self.$esc){self.$esc=true;$(W).on('keydown',self.esc_keydown)}}else{if(self.$esc){self.$esc=false;$(W).off('keydown',self.esc_keydown)}}};self.esc_keydown=function(e){if(e.which===27&&!e.isPropagationStopped()){var val=self.get();if(!val||config.if===val){e.preventDefault();e.stopPropagation();self.hide()}}};self.hide=function(){self.set('')};self.resize=function(){var el=self.element.find(cls2+'-body');var h=WH-self.find(cls2+'-header').height()-(config.padding*2);el.height(h);config.container&&el.find(config.container).height(h-config.margin);self.scrollbar&&self.scrollbar.resize()};self.make=function(){var scr=self.find('> script');self.template=scr.length?scr.html():'';$(document.body).append('<div id="{0}" class="hidden {5}-container{3}"><div class="{5}" style="max-width:{1}px"><div data-bind="@config__change .ui-panel-icon:@icon__html span:value.title" class="{5}-title"><button name="cancel" class="{5}-button-close{2}"><i class="{6}"></i></button><button name="menu" class="{5}-button-menu{4}"><i class="fa fa-ellipsis-h"></i></button><i class="{5}-icon"></i><span></span></div><div class="{5}-header"></div><div class="{5}-body"></div></div>'.format(self.ID,config.width,config.closebutton==false?' hidden':'',config.bg?'':' ui-panel-inline',config.menu?'':' hidden',cls,config.closeicon));var el=$('#'+self.ID);var body=el.find(cls2+'-body');while(self.dom.children.length)body[0].appendChild(self.dom.children[0]);self.rclass('hidden');self.replace(el,true);if(config.scrollbar&&window.SCROLLBAR){if(config.container)body=body.find(config.container);self.scrollbar=SCROLLBAR(body,{shadow:config.scrollbarshadow,visibleY:!!config.scrollbarY,orientation:'y'});self.scrollleft=self.scrollbar.scrollLeft;self.scrolltop=self.scrollbar.scrollTop;self.scrollright=self.scrollbar.scrollRight;self.scrollbottom=self.scrollbar.scrollBottom}else body.aclass(cls+'-scroll');self.event('click','button[name],.cancel',function(){switch(this.name){case'menu':EXEC(config.menu,$(this),self);break;case'cancel':self.hide();break;default:if($(this).hclass('cancel'))self.hide();break}});self.resize()};self.configure=function(key,value,init){switch(key){case'bg':self.tclass(cls+'-inline',!value);self.element.css('max-width',value?'inherit':(config.width+1));break;case'closebutton':!init&&self.find(cls2+'-button-close').tclass(value!==true);break;case'width':self.element.css('max-width',config.bg?'inherit':value);self.find(cls2+'').css('max-width',value);break}};self.setter=function(value){setTimeout2(cls+'-noscroll',function(){$('html').tclass(cls+'-noscroll',!!$(cls2+'-container').not('.hidden').length)},50);var isHidden=value!==config.if;if(self.hclass('hidden')===isHidden){if(!isHidden){config.reload&&self.EXEC(config.reload,self);config.default&&DEFAULT(self.makepath(config.default),true)}return}setTimeout2('panelreflow',function(){EMIT('reflow',self.name)},10);if(isHidden){self.aclass('hidden');self.release(true);self.esc(false);self.rclass(cls+'-animate');W.$$panel_level--;return}if(self.template){var is=self.template.COMPILABLE();self.find('div[data-jc-replaced]').html(self.template);self.template=null;is&&COMPILE()}if(W.$$panel_level<1)W.$$panel_level=1;W.$$panel_level++;var container=self.element.find(cls2+'-body');self.css('z-index',W.$$panel_level*config.zindex);container.scrollTop(0);self.rclass('hidden');self.release(false);setTimeout(self.resize,100);config.reload&&self.EXEC(config.reload,self);config.refresh&&self.EXEC(config.refresh,self);config.default&&DEFAULT(self.makepath(config.default),true);setTimeout(function(){if(self.scrollbar)self.scrollbar.scroll(0,0);else container.scrollTop(0);self.aclass(cls+'-animate');config.autofocus&&self.autofocus(config.autofocus)},300);setTimeout2(self.id,function(){self.css('z-index',(W.$$panel_level*config.zindex)+1)},1000);config.closeesc&&self.esc(true)}});</script>